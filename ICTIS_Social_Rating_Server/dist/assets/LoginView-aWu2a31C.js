import{_ as g,a as s}from"./_plugin-vue_export-helper-qh_91w3R.js";import{r as u,o as c,c as d,a as n,b as a}from"./index-hsHq-StX.js";const _={class:"container"},h={class:"login"},m={class:"register"},f={__name:"LoginView",setup(w){const t=u({FIO:"",login:"",password:"",register_login:"",register_password:"",bad_login:!0});function i(){s.post("http://localhost:3000/api/user/login",{login:t.login,password:t.password}).then(function(r){a.push("/account")}).catch(function(r){r.response.data.errors.map(e=>{alert(e.comment)})})}function l(r){t.register_login=r.target.value,s.post("http://localhost:3000/api/user/checkLogin",{login:t.register_login}).then(function(e){t.bad_login=!1,document.getElementById("register_login").removeAttribute("bad_login",!0)}).catch(function(e){t.bad_login=!0,document.getElementById("register_login").setAttribute("bad_login",!0),e.response.data.errors.map(o=>{alert(o.comment)})})}function p(){t.bad_login||s.post("http://localhost:3000/api/user/register",{FIO:t.FIO,login:t.register_login,password:t.register_password}).then(function(r){a.push("/account")}).catch(function(r){r.response.data.errors.map(e=>{alert(e.comment)})})}return(r,e)=>(c(),d("div",_,[n("div",h,[n("input",{type:"text",onChange:e[0]||(e[0]=o=>t.login=o.target.value),placeholder:"Логин"},null,32),n("input",{type:"password",onChange:e[1]||(e[1]=o=>t.password=o.target.value),placeholder:"Пароль"},null,32),n("button",{onClick:i},"Войти в аккаунт")]),n("div",m,[n("input",{id:"register_login",type:"text",onChange:l,placeholder:"Логин"},null,32),n("input",{type:"password",onChange:e[2]||(e[2]=o=>t.register_password=o.target.value),placeholder:"Пароль"},null,32),n("input",{type:"text",onChange:e[3]||(e[3]=o=>t.FIO=o.target.value),placeholder:"ФИО"},null,32),n("button",{onClick:p},"Зарегистрироваться")])]))}},x=g(f,[["__scopeId","data-v-f9017083"]]);export{x as default};
